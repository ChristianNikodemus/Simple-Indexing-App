let pokemonRepository=function(){let t=[],e="https://pokeapi.co/api/v2/pokemon/?limit=150";function n(e){t.push(e)}function o(t){let e=t.detailsUrl;return fetch(e).then(function(t){return t.json()}).then(function(e){t.imageUrl=e.sprites.front_default,t.height=e.height,t.weight=e.weight,t.types=e.types.map(function(t){return(e=t.type.name).charAt(0).toUpperCase()+e.slice(1);var e}).join(", ")}).catch(function(t){})}let i=$("#modalCenter");function a(t,e,n){let o=$(".modal-body"),a=$(".modal-title");a.empty(),o.empty();let l=$("#modalTitle");l.text(t);let s=$("<p></p>");s.html(e);let r=$(`<img src="${n}">`);a.append(l),o.append(s),o.append(r),i.addClass("is-visible")}function l(){i.removeClass("is-visible")}function s(t){o(t).then(function(){a(t.name,`Height: ${t.height}cm, <br />\n      Weight: ${t.weight}, <br />\n      Type(s): ${t.types}`,t.imageUrl)})}return window.addEventListener("keydown",t=>{"Escape"===t.key&&i.classList.contains("is-visible")&&l()}),i.on("click",t=>{t.target===i&&l()}),{add:n,getAll:function(){return t},addListItem:function(t){let e=$(".pokemon-list"),n=$('<li class="group-list-item"></li>'),o=$(`<button class="btn my-button" data-toggle="modal" data-target="#modalCenter">${t.name}</button>`);n.append(o),e.append(n),o.on("click",function(){s(t)})},showDetails:s,loadList:function(){return fetch(e).then(function(t){return t.json()}).then(function(t){t.results.forEach(function(t){n({name:t.name,detailsUrl:t.url})})}).catch(function(t){alert("Sorry! An error has occured")})},loadDetails:o,showModal:a,hideModal:l}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(t){pokemonRepository.addListItem(t)})});